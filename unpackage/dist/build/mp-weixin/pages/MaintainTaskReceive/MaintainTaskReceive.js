"use strict";const e=require("../../common/vendor.js"),t=require("./tableData.js"),a={data:()=>({searchVal:"",tableData:[],pageSize:10,pageCurrent:1,total:0,loading:!1,showDetail:!1,showReceive:!1,MaintainTask:{taskName:"1",customerName:"2",maintainType:"3"},maintainTypes:0,maintainTypesData:[{value:0,text:"线上",disable:!0},{value:1,text:"线下",disable:!0}],maintainListData:[{name:"维护项目1",content:"设备清洁"},{name:"维护项目2",content:"设备故障维护"},{name:"维护项目3",content:"维护内容3"},{name:"维护项目4",content:"维护内容4"}],column1:[{name:"taskName",label:"维护任务",width:150},{name:"maintainType",label:"维护类型",width:100},{name:"operation",type:"operation",label:"操作",width:100,renders:[{name:"详情",class:"edit",type:"primary",func:"edit"},{name:"认领",type:"primary",class:"del",func:"dele"}]}]}),onLoad(){this.getData(1)},methods:{change(e){this.$refs.table.clearSelection(),this.getData(e.current)},search(){this.getData(1,this.searchVal)},getData(e,t=""){this.loading=!0,this.pageCurrent=e,this.request({pageSize:this.pageSize,pageCurrent:e,value:t,success:e=>{this.tableData=e.data,this.total=e.total,this.loading=!1}})},request(e){const{pageSize:a,pageCurrent:n,success:i,value:o}=e;let s=t.tableData.length,l=t.tableData.filter(((e,t)=>{const i=t-(n-1)*a;return i<a&&i>=0}));o&&(l=[],t.tableData.forEach((e=>{-1!==e.name.indexOf(o)&&l.push(e)})),s=l.length),setTimeout((()=>{"function"==typeof i&&i({data:l,total:s})}),500)},clickDetail(){this.showDetail=!0},confirm1(){this.showDetail=!1},clickReceive(){this.showReceive=!0},confirm2(){this.showReceive=!1},cancel2(){this.showReceive=!1},dele(t,a){e.index.showToast({icon:"none",duration:3e3,title:"点击认领"}),console.log(t,a),this.showReceive=!0},buttonEdit(t,a){e.index.showToast({icon:"none",duration:3e3,title:"点击详情"}),console.log(t,a),this.MaintainTask.taskName=t.taskName,this.MaintainTask.maintainType=t.maintainType,this.MaintainTask.customerName=t.customerName,this.showDetail=!0}}};if(!Array){(e.resolveComponent("uni-easyinput")+e.resolveComponent("zb-table")+e.resolveComponent("uni-pagination")+e.resolveComponent("uni-section")+e.resolveComponent("uni-forms-item")+e.resolveComponent("uni-data-checkbox")+e.resolveComponent("uni-th")+e.resolveComponent("uni-tr")+e.resolveComponent("uni-td")+e.resolveComponent("uni-table")+e.resolveComponent("uni-forms")+e.resolveComponent("u-modal"))()}Math||((()=>"../../uni_modules/uni-easyinput/components/uni-easyinput/uni-easyinput.js")+(()=>"../../uni_modules/zb-table/components/zb-table/zb-table.js")+(()=>"../../uni_modules/uni-pagination/components/uni-pagination/uni-pagination.js")+(()=>"../../uni_modules/uni-section/components/uni-section/uni-section.js")+(()=>"../../uni_modules/uni-forms/components/uni-forms-item/uni-forms-item.js")+(()=>"../../uni_modules/uni-data-checkbox/components/uni-data-checkbox/uni-data-checkbox.js")+(()=>"../../uni_modules/uni-table/components/uni-th/uni-th.js")+(()=>"../../uni_modules/uni-table/components/uni-tr/uni-tr.js")+(()=>"../../uni_modules/uni-table/components/uni-td/uni-td.js")+(()=>"../../uni_modules/uni-table/components/uni-table/uni-table.js")+(()=>"../../uni_modules/uni-forms/components/uni-forms/uni-forms.js")+(()=>"../../uni_modules/uview-plus/components/u-modal/u-modal.js"))();const n=e._export_sfc(a,[["render",function(t,a,n,i,o,s){return{a:e.p({placeholder:"维护任务查询"}),b:e.sr("table","6d1a1907-2,6d1a1907-1"),c:e.o(s.dele),d:e.o(s.buttonEdit),e:e.p({border:!0,stripe:!0,columns:o.column1,data:o.tableData}),f:e.o(s.change),g:e.p({"show-icon":!0,"page-size":o.pageSize,current:o.pageCurrent,total:o.total}),h:e.p({title:"维护任务表",type:"line"}),i:e.o((e=>o.MaintainTask.taskName=e)),j:e.p({disabled:!0,modelValue:o.MaintainTask.taskName}),k:e.p({label:"维护任务"}),l:e.o((e=>o.MaintainTask.customerName=e)),m:e.p({disabled:!0,modelValue:o.MaintainTask.customerName}),n:e.p({label:"客户"}),o:e.o((e=>o.maintainTypes=e)),p:e.p({localdata:o.maintainTypesData,modelValue:o.maintainTypes}),q:e.p({label:"维护类型"}),r:e.p({label:"维护项目列表"}),s:e.p({width:"300rpx",align:"center"}),t:e.p({width:"300rpx",align:"center"}),v:e.f(o.maintainListData,((t,a,n)=>({a:e.t(t.name),b:"6d1a1907-18-"+n+",6d1a1907-17-"+n,c:e.t(t.content),d:"6d1a1907-19-"+n+",6d1a1907-17-"+n,e:a,f:"6d1a1907-17-"+n+",6d1a1907-13"}))),w:e.p({align:"center"}),x:e.p({align:"center"}),y:e.p({border:!0,stripe:!0}),z:e.sr("form","6d1a1907-5,6d1a1907-4"),A:e.p({modelValue:o.MaintainTask,"label-width":"100px"}),B:e.o(s.confirm1),C:e.p({show:o.showDetail,title:"维护任务详情",width:"700rpx"}),D:e.o(s.confirm2),E:e.o(s.cancel2),F:e.p({show:o.showReceive,title:"维护任务领取",showCancelButton:"true"})}}]]);wx.createPage(n);
